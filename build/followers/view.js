import*as e from"@wordpress/interactivity";var t={d:(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const r=(l={getContext:()=>e.getContext,store:()=>e.store},c={},t.d(c,l),c),{apiFetch:o,url:a}=window.wp,{actions:n,state:s}=(0,r.store)("activitypub/followers",{state:{get paginationText(){const{page:e,pages:t}=(0,r.getContext)();return`${e} / ${t}`},get disablePreviousLink(){const{page:e}=(0,r.getContext)();return e<=1},get disableNextLink(){const{page:e,pages:t}=(0,r.getContext)();return e>=t}},actions:{async fetchFollowers(){const e=(0,r.getContext)(),{userId:t,page:n,per_page:l,order:c}=e;e.isLoading=!0;try{const r=a.addQueryArgs(`/${s.namespace}/actors/${t}/followers`,{context:"full",per_page:l,order:c,page:n}),{orderedItems:g,totalItems:p}=await o({path:r});e.followers=g.map((e=>({handle:"@"+e.preferredUsername,icon:e.icon,name:e.name||e.preferredUsername,url:e.url||e.id}))),e.total=p,e.pages=Math.ceil(p/l)}catch(e){console.error("Error fetching followers:",e)}finally{e.isLoading=!1}},previousPage(e){e.preventDefault();const t=(0,r.getContext)();t.page>1&&(t.page--,n.fetchFollowers().catch((e=>{console.error("Error fetching followers:",e)})))},nextPage(e){e.preventDefault();const t=(0,r.getContext)();t.page<t.pages&&(t.page++,n.fetchFollowers().catch((e=>{console.error("Error fetching followers:",e)})))}},callbacks:{setDefaultAvatar(e){e.target.src=s.defaultAvatarUrl}}});var l,c;